{% load_yaml as rawmap %}
Debian:
  gems_setup:
    enabled: True
  oneadmin:
    home: /var/lib/one
    ssh_pubkey: /var/lib/one/.ssh/id_rsa_on.pub
    ssh_prvkey: /var/lib/one/.ssh/id_rsa_one
    optional_groups:
      - kvm
      - libvirt
      - ssl-cert
  oneadmingroup:
    name: oneadmin
  controller:
    pkgs:
      - opennebula
      - opennebula-tools
      #- ruby-opennebula {# TODO <- ? #}
  compute_node:
    pkgs:
      - opennebula-node
  sunstone:
    pkgs:
      - opennebula-sunstone
      - python-numpy
    config:
      sunstone_server:
        path: /etc/one/sunstone-server.conf
      sunstone_views:
        path: /etc/one/sunstone-views.yaml
    service: {}
  oneflow:
    pkgs:
      - opennebula-flow
      - ruby-treetop
      - ruby-polyglot
  onegate:
    pkgs:
      - opennebula-gate
  novnc:
    service: {}
RedHat:
  gems_setup:
    enabled: True
  oneadmin:
    home: /var/lib/one
    ssh_pubkey: /var/lib/one/.ssh/id_rsa_one.pub
    ssh_prvkey: /var/lib/one/.ssh/id_rsa_one
    optional_groups:
      - kvm
      - libvirt
      - ssl-cert
  oneadmingroup:
    name: oneadmin
  controller:
    pkgs:
      - opennebula
      - opennebula-tools
      #- ruby-opennebula {# TODO <- ? #}
  compute_node:
    pkgs:
      - opennebula-node-kvm
  sunstone:
    pkgs:
      - opennebula-sunstone
      - python-numpy
    service: {}
  oneflow:
    pkgs:
      - opennebula-flow
      - ruby-treetop
      - ruby-polyglot
  onegate:
    pkgs:
      - opennebula-gate
  novnc:
    service: {}
{% endload %}
